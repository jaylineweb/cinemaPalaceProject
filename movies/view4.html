<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="./css/style.css" />
    <title>상세 페이지</title>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
    <script src="../js/jquery.min.js"></script>
    <script src="../public/js/script.js"></script>
</head>

<body>
    <header id="header">
        <div class="wrap clearfix">
            <h1 class="logo">
                <a href="../index.html"><img src="../main/img/logo.png" alt="CINEMA PALACE 로고 이미지"></a>
            </h1>
            <button class="mobile_btn">
                <span class="top"></span>
                <span class="middle"></span>
                <span class="bottom"></span>
            </button>
            <div class="gnb_wrap">
                <div class="gnb">
                    <ul class="clearfix">
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="../movies/view1.html">Movies</a></li>
                        <li><a href="../Theater/index.html">Theaters</a></li>
                        <li><a href="../event/index.html">Events</a></li>
                    </ul>
                </div>
                <div class="buttonArea">
                    <a href="../login/login.html">Login</a>
                    <a href="../login/signup.html">Sign in</a>
                </div>
            </div>
        </div>
        <!-- //wrap -->
    </header>
    <!-- //header -->
    <div class="view_container">
        <div class="sect-base-movie">
            <div class="box-image">
                <a href="https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88239/88239_1000.jpg" title="포스터 크게 보기 새창" target="_blank">
                    <span class="thumb-image">
                        <img src="https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88239/88239_320.jpg" alt="드라이브 포스터 새창" onerror="errorImage(this)">
                        <i class="cgvIcon etc age15">15</i>
                    </span>
                </a>
            </div>
            <div class="box-contents">
                <div class="title">
                    <strong>드라이브</strong>
                    <em class="round brown"><span>예매중</span></em>
                    <em class="round red"><span>D-3</span></em>
                    <p>Drive</p>
                </div>
                <div class="score">
                    <strong class="percent">예매율&nbsp;<span>6.1%</span></strong>
                    <!-- 2020.05.07 개봉전 프리에그 노출, 개봉후 골든에그지수 노출변경 -->
                    <div class="egg-gage small">
                        <span class="sprite_preegg default"></span>
                        <span class="percent">98%</span>
                    </div>
                </div>
                <div class="spec">
                    <dl>
                        <dt>감독 :&nbsp;</dt>
                        <dd>
                            <a href="/movies/persons/?pidx=124549">박동희</a>
                        </dd>
                        <dt>&nbsp;/ 프로듀서 :&nbsp;</dt>
                        <dd>
                            김봉서
                            ,&nbsp;
                            석동준
                        </dd>
                        <dt>&nbsp;/ 배우 :&nbsp;</dt>
                        <dd class="on">
                            <a href="/movies/persons/?pidx=124550">박주현</a>
                            ,&nbsp;
                            <a href="/movies/persons/?pidx=333">김여진</a>
                            ,&nbsp;
                            <a href="/movies/persons/?pidx=105408">김도윤</a>
                            ,&nbsp;
                            <a href="/movies/persons/?pidx=490">정웅인</a>
                        </dd>
                        <dt>장르 :&nbsp;스릴러</dt>
                        <dd></dd>
                        <dt>&nbsp;/ 기본 정보 :&nbsp;</dt>
                        <dd class="on">15세이상관람가,&nbsp;90분,&nbsp;한국</dd>
                        <dt>개봉 :&nbsp;</dt>
                        <dd class="on">2024.06.12</dd>
                    </dl>
                </div>
            </div>
        </div>
        <div class="cols-content" id="menu">
            <div class="col-detail">
                <ul class="tab-menu">
                    <li class="on"><a title="현재 선택됨" href="/movies/detail-view/?midx=88266#menu">주요정보 </a></li>
                </ul>
                <div class="sect-story-movie">
                    <p>도심 한복판을 질주하는 자동차 트렁크에 갇힌<br>
                        인기 스트리머가 실시간 라이브 방송을 하며<br>
                        필사의 탈출을 감행하는 드라이빙 액션 스릴러</p>
                </div>
            </div><!-- .col-detail -->
        </div>
        <section class="reviews">
            <h2>리뷰</h2>
            <div class="review-list" id="review-list">
                <!-- Review items will be injected here by JavaScript -->
            </div>
            <div class="review-form">
                <h3>리뷰 남기기</h3>
                <form id="review-form">
                    <input type="text" id="reviewer-name" placeholder="이름" required>
                    <textarea id="review-text" placeholder="리뷰를 남겨주세요..." required></textarea>
                    <button type="submit">리뷰 등록하기</button>
                </form>
            </div>
        </section>
    </div>

    <footer id="footer">
        <div class="copyright">©CINEMA PALACE All rights reserved</div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const nowShowingContainer = document.getElementById('now-showing');
            const comingSoonContainer = document.getElementById('coming-soon');
            const reviewListContainer = document.getElementById('review-list');
            const reviewForm = document.getElementById('review-form');

            const nowShowingMovies = [
                {
                    title: "명탐정 코난 VS 괴도 키드",
                    releaseDate: "2024.06.05",
                    // imageUrl: "https://via.placeholder.com/150x225"
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88272/88272_320.jpg"
                },
                {
                    title: "원더랜드",
                    releaseDate: "2024-06-05",
                    // imageUrl: "https://via.placeholder.com/150x225"
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88266/88266_320.jpg"
                },
                {
                    title: "존 오브 인터레스트",
                    releaseDate: "2024.06.05",
                    // imageUrl: "https://via.placeholder.com/150x225"
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88270/88270_320.jpg"
                },
                {
                    title: "다섯 번째 방",
                    releaseDate: "2024.06.05",
                    // imageUrl: "https://via.placeholder.com/150x225"
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88284/88284_320.jpg"
                }
            ];

            const comingSoonMovies = [
                {
                    title: "원더랜드",
                    releaseDate: "2024-07-01",
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88266/88266_320.jpg"
                },
                {
                    title: "극장판 하이큐!! 쓰레기장의 결전",
                    releaseDate: "2024-07-05",
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88214/88214_320.jpg"
                },
                {
                    title: "퓨리오사-매드맥스 사가",
                    releaseDate: "2024-07-10",
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88148/88148_320.jpg"
                },
                {
                    title: "명탐정 코난 VS 괴도 키드",
                    releaseDate: "2024-07-15",
                    imageUrl: "https://img.cgv.co.kr/Movie/Thumbnail/Poster/000088/88272/88272_320.jpg"
                }
            ];

            const reviews = [
                {
                    reviewer: "John Doe",
                    text: "Great movie, highly recommended!"
                },
                {
                    reviewer: "Jane Smith",
                    text: "Not bad, but could be better."
                }
            ];

            function displayMovies(container, movies) {
                movies.forEach(movie => {
                    const movieItem = document.createElement('div');
                    movieItem.classList.add('movie-item');
                    movieItem.innerHTML = `
                    <img src="${movie.imageUrl}" alt="${movie.title}">
                    <h3>${movie.title}</h3>
                    <p>Release Date: ${movie.releaseDate}</p>
                    <div class="desc_box"><a href="#n" class="detail_view">상세 보기</a></div>
                `;
                    container.appendChild(movieItem);
                });
            }

            function displayReviews(container, reviews) {
                container.innerHTML = '';
                reviews.forEach(review => {
                    const reviewItem = document.createElement('div');
                    reviewItem.classList.add('review-item');
                    reviewItem.innerHTML = `
                    <h4>${review.reviewer}</h4>
                    <p>${review.text}</p>
                `;
                    container.appendChild(reviewItem);
                });
            }

            reviewForm.addEventListener('submit', function (event) {
                event.preventDefault();
                const reviewerName = document.getElementById('reviewer-name').value;
                const reviewText = document.getElementById('review-text').value;

                if (reviewerName && reviewText) {
                    reviews.push({
                        reviewer: reviewerName,
                        text: reviewText
                    });
                    displayReviews(reviewListContainer, reviews);
                    reviewForm.reset();
                }
            });

            displayMovies(nowShowingContainer, nowShowingMovies);
            displayMovies(comingSoonContainer, comingSoonMovies);
            displayReviews(reviewListContainer, reviews);
        });
        
    </script>
</body>

</html>
